# Redis Sentinel Configuration

# 哨兵端口
port 26379

# 守护进程模式
daemonize no

# PID文件
pidfile /var/run/redis-sentinel.pid

# 日志文件
logfile ""

# 工作目录
dir /data

# 监控的主节点配置
# 格式: sentinel monitor <master-name> <ip> <port> <quorum>
# quorum: 需要多少个哨兵同意才能执行故障转移
sentinel monitor redis-master redis-master 6379 2

# 主节点认证密码
sentinel auth-pass redis-master CG1rMeyRryFgvElf8n

# 主节点密码
sentinel auth-user redis-master default

# 故障转移超时时间 (毫秒)
sentinel down-after-milliseconds redis-master 5000

# 故障转移时，最多有多少个从节点同时对新的主节点进行同步
sentinel parallel-syncs redis-master 1

# 故障转移超时时间
sentinel failover-timeout redis-master 10000

# 脚本路径
# sentinel notification-script redis-master /path/to/script.sh
# sentinel client-reconfig-script redis-master /path/to/script.sh

# 通知脚本
# sentinel notification-script redis-master /var/redis/notify.sh

# 客户端重配置脚本
# sentinel client-reconfig-script redis-master /var/redis/reconfig.sh

# 保护模式
protected-mode no

# 绑定地址
bind 0.0.0.0

# 日志级别
loglevel notice

# 通知
notify-keyspace-events ""

# 客户端输出缓冲区限制
client-output-buffer-limit normal 0 0 0
client-output-buffer-limit replica 256mb 64mb 60
client-output-buffer-limit pubsub 32mb 8mb 60

# 运行ID (自动生成)
# runid 会自动生成

# 当前纪元 (自动管理)
# current-epoch 会自动管理

# 最后已知主节点信息 (自动管理)
# last-epoch 会自动管理
